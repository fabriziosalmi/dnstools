<!DOCTYPE html>
<html>
<head>
    <title>DNS Resolution Comparison Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>DNS Resolution Comparison Tool</h1>
    <form method="post" action="#">
        <input type="text" name="fqdn" id="fqdn" value="www.example.com" required>
        <button type="submit">Compare</button>
    </form>

    <div id="result" style="display:none">
        <h2>Results for <b><span id="fqdnResult"></span></b>:</h2>
        <table>
            <tr>
                <th>DNS Server</th>
                <th>Result</th>
            </tr>
            <tr>
                <td style="background-color: black; color: white; border-radius: 5px; line-height: 1.8em; text-align: center; padding-left: 20px; padding-right: 20px;">dns1.p01.nsone.net</td>
                <td style="background-color: #eaeaea; color: black; border-radius: 5px; line-height: 1.8em; text-align: center; padding-left: 10px; padding-right: 10px;" id="nsoneResult"></td>
            </tr>
            <tr>
                <td style="background-color: orange; color: white; border-radius: 5px; line-height: 1.8em; text-align: center; padding-left: 20px; padding-right: 20px;">dilbert.ns.cloudflare.com</td>
                <td style="background-color: #ffdcc8; color: black; border-radius: 5px; line-height: 1.8em; text-align: center; padding-left: 10px; padding-right: 10px;" id="cloudflareResult"></td>
            </tr>
        </table>
    </div>

    <script>
        // Handle form submission
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault(); // prevent page refresh

            // Get the entered FQDN
            var fqdn = document.querySelector('#fqdn').value;

            // Send AJAX requests to get DNS resolution
            var nsoneRequest = new XMLHttpRequest();
            nsoneRequest.open('GET', 'https://dns.google/resolve?name=' + fqdn + '&type=A&cd=0&edns=0', true);
            nsoneRequest.onload = function() {
                var nsoneResponse = JSON.parse(this.responseText);
                var nsoneResult = "";
                if (nsoneResponse.Status == 0) {
                    nsoneResult = nsoneResponse.Answer[0].data;
                }
                document.querySelector('#nsoneResult').textContent = nsoneResult;
            };
            nsoneRequest.send();

            var cloudflareRequest = new XMLHttpRequest();
            cloudflareRequest.open('GET', 'https://cloudflare-dns.com/dns-query?name=' + fqdn + '&type=A', true);
            cloudflareRequest.setRequestHeader('accept', 'application/dns-json');
            cloudflareRequest.onload = function() {
                var cloudflareResponse = JSON.parse(this.responseText);
                var cloudflareResult = "";
                if (cloudflareResponse.Status == 0) {
                    cloudflareResult = cloudflareResponse.Answer[0].data;
                }
                document.querySelector('#cloudflareResult').textContent = cloudflareResult;
            };
            cloudflareRequest.send();

            // Show the results div
            document.querySelector('#fqdnResult').textContent = fqdn;
            document.querySelector('#result').style.display = 'block';
        });
    </script>
</body>
</html>
